{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport DishContext from \"./DishContext\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar baseUrl = 'https://recipe-maker-34e87-default-rtdb.firebaseio.com';\nfunction gete() {\n  return _gete.apply(this, arguments);\n}\nfunction _gete() {\n  _gete = _asyncToGenerator(function* () {\n    try {\n      var res = yield axios.get(baseUrl + \"/Momrecipes.json\");\n      var _allRecpies = [];\n      for (var key in res.data) {\n        var expensObj = {\n          id: key,\n          name: res.data[key].name,\n          image: res.data[key].image,\n          video: res.data[key].video,\n          description: res.data[key].description,\n          ingredients: res.data[key].ingredients,\n          time: res.data[key].time,\n          category: res.data[key].category\n        };\n        _allRecpies.push(expensObj);\n      }\n      return _allRecpies;\n    } catch (error) {\n      alert(error);\n      return allRecpies;\n    }\n  });\n  return _gete.apply(this, arguments);\n}\nfunction DishState(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    dishes = _useState2[0],\n    setDishes = _useState2[1];\n  useEffect(function () {\n    function getRecipes() {\n      return _getRecipes.apply(this, arguments);\n    }\n    function _getRecipes() {\n      _getRecipes = _asyncToGenerator(function* () {\n        var expense = yield gete();\n        setDishes(expense);\n      });\n      return _getRecipes.apply(this, arguments);\n    }\n    getRecipes();\n  }, []);\n  function addDish(name, category, image, video, time, ingredients, description) {\n    var dish = {\n      name: name,\n      category: category,\n      image: image,\n      video: video,\n      time: time,\n      ingredients: ingredients,\n      description: description\n    };\n    try {\n      axios.post(baseUrl + \"/Momrecipes.json\", dish);\n      setDishes([].concat(_toConsumableArray(dishes), [dish]));\n    } catch (error) {\n      alert(error);\n    }\n  }\n  function deleteDish(id) {\n    try {\n      axios.delete(baseUrl + \"/Momrecipes/\" + id + \".json\");\n      var newDishes = dishes.filter(function (dish) {\n        return dish.id !== id;\n      });\n      setDishes(newDishes);\n    } catch (error) {\n      alert(error);\n    }\n  }\n  function updateDish(id, name, category, image, video, time, ingredients, description) {\n    var dishData = {\n      name: name,\n      category: category,\n      image: image,\n      video: video,\n      time: time,\n      ingredients: ingredients,\n      description: description\n    };\n    try {\n      axios.put(baseUrl + \"/Momrecipes/\" + id + \".json\", dishData);\n      var newDishes = dishes.map(function (dish) {\n        if (dish.id === id) {\n          dish.name = name;\n          dish.category = category;\n          dish.image = image;\n          dish.video = video;\n          dish.time = time;\n          dish.ingredients = ingredients;\n          dish.description = description;\n        }\n        return dish;\n      });\n      setDishes(newDishes);\n    } catch (error) {\n      alert(error);\n    }\n  }\n  return _jsx(DishContext.Provider, {\n    value: {\n      dishes: dishes,\n      setDishes: setDishes,\n      addDish: addDish,\n      deleteDish: deleteDish,\n      updateDish: updateDish\n    },\n    children: props.children\n  });\n}\nexport default DishState;","map":{"version":3,"names":["DishContext","React","useState","useEffect","axios","jsx","_jsx","baseUrl","gete","_gete","apply","arguments","_asyncToGenerator","res","get","allRecpies","key","data","expensObj","id","name","image","video","description","ingredients","time","category","push","error","alert","DishState","props","_useState","_useState2","_slicedToArray","dishes","setDishes","getRecipes","_getRecipes","expense","addDish","dish","post","concat","_toConsumableArray","deleteDish","delete","newDishes","filter","updateDish","dishData","put","map","Provider","value","children"],"sources":["C:/Users/ELITE BOOK/Desktop/Update/Recipe-App/context/dishes/DishState.js"],"sourcesContent":["import DishContext from \"./DishContext\";\r\nimport React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nconst baseUrl = 'https://recipe-maker-34e87-default-rtdb.firebaseio.com'\r\n// Set data in dishes state from firebase\r\nasync function gete() {\r\n  try {\r\n    const res = await axios.get(`${baseUrl}/Momrecipes.json`)\r\n    const allRecpies = []\r\n    for (const key in res.data) {\r\n      const expensObj = {\r\n        id: key,\r\n        name: res.data[key].name,\r\n        image: res.data[key].image,\r\n        video: res.data[key].video,\r\n        description: res.data[key].description,\r\n        ingredients: res.data[key].ingredients,\r\n        time: res.data[key].time,\r\n        category: res.data[key].category,\r\n\r\n      }\r\n      allRecpies.push(expensObj)\r\n    }\r\n    return allRecpies;\r\n  } catch (error) {\r\n    alert(error)\r\n    return allRecpies;\r\n  }\r\n}\r\n\r\n\r\nfunction DishState(props) {\r\n\r\n  // dishes state\r\n  const [dishes, setDishes] = useState([]);\r\n\r\n\r\n  // Get dishes from firebase\r\n  useEffect(() => {\r\n    async function getRecipes() {\r\n\r\n      const expense = await gete();\r\n      setDishes(expense);\r\n    }\r\n    getRecipes()\r\n  }, [])\r\n\r\n\r\n  // Add dish data to firebase\r\n  function addDish(name, category, image, video, time, ingredients, description) {\r\n\r\n    const dish = { name, category, image, video, time, ingredients, description }\r\n    try {\r\n\r\n      axios.post(`${baseUrl}/Momrecipes.json`, dish)\r\n      setDishes([...dishes, dish]);\r\n\r\n    } catch (error) {\r\n      alert(error)\r\n    }\r\n  }\r\n\r\n  // Delete dish from firebase\r\n  function deleteDish(id) {\r\n    try {\r\n      axios.delete(`${baseUrl}/Momrecipes/${id}.json`);\r\n      const newDishes = dishes.filter((dish) => dish.id !== id);\r\n      setDishes(newDishes);\r\n    } catch (error) {\r\n      alert(error)\r\n    }\r\n  }\r\n\r\n  // Update dish data in firebase\r\n  function updateDish(id, name, category, image, video, time, ingredients, description) {\r\n    const dishData = { name, category, image, video, time, ingredients, description }\r\n    try {\r\n      axios.put(`${baseUrl}/Momrecipes/${id}.json`, dishData);\r\n\r\n      const newDishes = dishes.map((dish) => {\r\n        if (dish.id === id) {\r\n          dish.name = name;\r\n          dish.category = category;\r\n          dish.image = image;\r\n          dish.video = video;\r\n          dish.time = time;\r\n          dish.ingredients = ingredients;\r\n          dish.description = description;\r\n        }\r\n        return dish;\r\n      });\r\n\r\n      setDishes(newDishes);\r\n    } catch (error) {\r\n      alert(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <DishContext.Provider value={{ dishes, setDishes, addDish, deleteDish, updateDish }}>\r\n      {props.children}\r\n    </DishContext.Provider>\r\n  )\r\n\r\n}\r\nexport default DishState;"],"mappings":"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"},"metadata":{},"sourceType":"module"}