{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nvar baseUrl = \"https://recipe-maker-34e87-default-rtdb.firebaseio.com\";\nvar usersUrl = baseUrl + \"/users.json\";\nexport var loginAuth = function () {\n  var _ref = _asyncToGenerator(function* (userData) {\n    try {\n      var res = yield axios.get(usersUrl);\n      var users = Object.keys(res.data).map(function (key) {\n        return {\n          id: key,\n          data: res.data[key]\n        };\n      });\n      var userExists = users.find(function (u) {\n        return u.data.email === userData.email && u.data.password === userData.password;\n      });\n      if (!userExists) {\n        alert(\"Invalid Credentials\");\n        return false;\n      }\n      var id = userExists.id,\n        data = userExists.data;\n      var email = data.email,\n        username = data.username,\n        country = data.country;\n      return {\n        id: id,\n        email: email,\n        username: username,\n        country: country\n      };\n    } catch (error) {\n      alert(error);\n      return false;\n    }\n  });\n  return function loginAuth(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","baseUrl","usersUrl","loginAuth","_ref","_asyncToGenerator","userData","res","get","users","Object","keys","data","map","key","id","userExists","find","u","email","password","alert","username","country","error","_x","apply","arguments"],"sources":["C:/Users/ELITE BOOK/Desktop/Update/Recipe-App/middlewares/loginAuth.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://recipe-maker-34e87-default-rtdb.firebaseio.com\";\r\nconst usersUrl = `${baseUrl}/users.json`;\r\n\r\nexport const loginAuth = async (userData) => {\r\n  try {\r\n    const res = await axios.get(usersUrl);\r\n    const users = Object.keys(res.data).map((key) => {\r\n      return { id: key, data: res.data[key] };\r\n    });\r\n    const userExists = users.find(\r\n      (u) =>\r\n        u.data.email === userData.email && u.data.password === userData.password\r\n    );\r\n\r\n    if (!userExists) {\r\n      alert(\"Invalid Credentials\");\r\n      return false;\r\n    }\r\n    const { id, data } = userExists;\r\n    const { email, username, country } = data;\r\n\r\n    // console.log(Object.entries(res.data));\r\n    return { id, email, username, country };\r\n  } catch (error) {\r\n    alert(error);\r\n    return false;\r\n  }\r\n};\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAMC,OAAO,GAAG,wDAAwD;AACxE,IAAMC,QAAQ,GAAMD,OAAO,gBAAa;AAExC,OAAO,IAAME,SAAS;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,QAAQ,EAAK;IAC3C,IAAI;MACF,IAAMC,GAAG,SAASP,KAAK,CAACQ,GAAG,CAACN,QAAQ,CAAC;MACrC,IAAMO,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACJ,GAAG,CAACK,IAAI,CAAC,CAACC,GAAG,CAAC,UAACC,GAAG,EAAK;QAC/C,OAAO;UAAEC,EAAE,EAAED,GAAG;UAAEF,IAAI,EAAEL,GAAG,CAACK,IAAI,CAACE,GAAG;QAAE,CAAC;MACzC,CAAC,CAAC;MACF,IAAME,UAAU,GAAGP,KAAK,CAACQ,IAAI,CAC3B,UAACC,CAAC;QAAA,OACAA,CAAC,CAACN,IAAI,CAACO,KAAK,KAAKb,QAAQ,CAACa,KAAK,IAAID,CAAC,CAACN,IAAI,CAACQ,QAAQ,KAAKd,QAAQ,CAACc,QAAQ;MAAA,EAC3E;MAED,IAAI,CAACJ,UAAU,EAAE;QACfK,KAAK,CAAC,qBAAqB,CAAC;QAC5B,OAAO,KAAK;MACd;MACA,IAAQN,EAAE,GAAWC,UAAU,CAAvBD,EAAE;QAAEH,IAAI,GAAKI,UAAU,CAAnBJ,IAAI;MAChB,IAAQO,KAAK,GAAwBP,IAAI,CAAjCO,KAAK;QAAEG,QAAQ,GAAcV,IAAI,CAA1BU,QAAQ;QAAEC,OAAO,GAAKX,IAAI,CAAhBW,OAAO;MAGhC,OAAO;QAAER,EAAE,EAAFA,EAAE;QAAEI,KAAK,EAALA,KAAK;QAAEG,QAAQ,EAARA,QAAQ;QAAEC,OAAO,EAAPA;MAAQ,CAAC;IACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,KAAK,CAACG,KAAK,CAAC;MACZ,OAAO,KAAK;IACd;EACF,CAAC;EAAA,gBAxBYrB,SAASA,CAAAsB,EAAA;IAAA,OAAArB,IAAA,CAAAsB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAwBrB"},"metadata":{},"sourceType":"module"}