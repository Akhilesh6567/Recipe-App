{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nimport Batchinator from \"../Batchinator\";\nimport FillRateHelper from \"../FillRateHelper\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport RefreshControl from \"../../../exports/RefreshControl\";\nimport ScrollView from \"../../../exports/ScrollView\";\nimport StyleSheet from \"../../../exports/StyleSheet\";\nimport UIManager from \"../../../exports/UIManager\";\nimport View from \"../../../exports/View\";\nimport ViewabilityHelper from \"../ViewabilityHelper\";\nimport { computeWindowedRenderLimits } from \"../VirtualizeUtils\";\nimport findNodeHandle from \"../../../exports/findNodeHandle\";\nimport infoLog from \"../infoLog\";\nimport invariant from 'fbjs/lib/invariant';\nimport warning from 'fbjs/lib/warning';\nvar flattenStyle = StyleSheet.flatten;\nvar __DEV__ = process.env.NODE_ENV !== 'production';\nvar _usedIndexForKey = false;\nvar VirtualizedList = function (_React$PureComponent) {\n  _inherits(VirtualizedList, _React$PureComponent);\n  VirtualizedList.prototype.scrollToEnd = function scrollToEnd(params) {\n    var animated = params ? params.animated : true;\n    var veryLast = this.props.getItemCount(this.props.data) - 1;\n    var frame = this._getFrameMetricsApprox(veryLast);\n    var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);\n    this._scrollRef.scrollTo(this.props.horizontal ? {\n      x: offset,\n      animated: animated\n    } : {\n      y: offset,\n      animated: animated\n    });\n  };\n  VirtualizedList.prototype.scrollToIndex = function scrollToIndex(params) {\n    var _props = this.props,\n      data = _props.data,\n      horizontal = _props.horizontal,\n      getItemCount = _props.getItemCount,\n      getItemLayout = _props.getItemLayout,\n      onScrollToIndexFailed = _props.onScrollToIndexFailed;\n    var animated = params.animated,\n      index = params.index,\n      viewOffset = params.viewOffset,\n      viewPosition = params.viewPosition;\n    invariant(index >= 0 && index < getItemCount(data), 'scrollToIndex out of range: ' + index + ' vs ' + (getItemCount(data) - 1));\n    if (!getItemLayout && index > this._highestMeasuredFrameIndex) {\n      invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');\n      onScrollToIndexFailed({\n        averageItemLength: this._averageCellLength,\n        highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,\n        index: index\n      });\n      return;\n    }\n    var frame = this._getFrameMetricsApprox(index);\n    var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);\n    this._scrollRef.scrollTo(horizontal ? {\n      x: offset,\n      animated: animated\n    } : {\n      y: offset,\n      animated: animated\n    });\n  };\n  VirtualizedList.prototype.scrollToItem = function scrollToItem(params) {\n    var item = params.item;\n    var _props2 = this.props,\n      data = _props2.data,\n      getItem = _props2.getItem,\n      getItemCount = _props2.getItemCount;\n    var itemCount = getItemCount(data);\n    for (var _index = 0; _index < itemCount; _index++) {\n      if (getItem(data, _index) === item) {\n        this.scrollToIndex(Object.assign({}, params, {\n          index: _index\n        }));\n        break;\n      }\n    }\n  };\n  VirtualizedList.prototype.scrollToOffset = function scrollToOffset(params) {\n    var animated = params.animated,\n      offset = params.offset;\n    this._scrollRef.scrollTo(this.props.horizontal ? {\n      x: offset,\n      animated: animated\n    } : {\n      y: offset,\n      animated: animated\n    });\n  };\n  VirtualizedList.prototype.recordInteraction = function recordInteraction() {\n    this._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref.recordInteraction();\n    });\n    this._viewabilityTuples.forEach(function (t) {\n      t.viewabilityHelper.recordInteraction();\n    });\n    this._updateViewableItems(this.props.data);\n  };\n  VirtualizedList.prototype.flashScrollIndicators = function flashScrollIndicators() {\n    this._scrollRef.flashScrollIndicators();\n  };\n  VirtualizedList.prototype.getScrollResponder = function getScrollResponder() {\n    if (this._scrollRef && this._scrollRef.getScrollResponder) {\n      return this._scrollRef.getScrollResponder();\n    }\n  };\n  VirtualizedList.prototype.getScrollableNode = function getScrollableNode() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      return this._scrollRef.getScrollableNode();\n    } else {\n      return findNodeHandle(this._scrollRef);\n    }\n  };\n  VirtualizedList.prototype.setNativeProps = function setNativeProps(props) {\n    if (this._scrollRef) {\n      this._scrollRef.setNativeProps(props);\n    }\n  };\n  VirtualizedList.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedList: {\n        getScrollMetrics: this._getScrollMetrics,\n        horizontal: this.props.horizontal,\n        getOutermostParentListRef: this._getOutermostParentListRef,\n        getNestedChildState: this._getNestedChildState,\n        registerAsNestedChild: this._registerAsNestedChild,\n        unregisterAsNestedChild: this._unregisterAsNestedChild\n      }\n    };\n  };\n  VirtualizedList.prototype._getCellKey = function _getCellKey() {\n    return this.context.virtualizedCell && this.context.virtualizedCell.cellKey || 'rootList';\n  };\n  VirtualizedList.prototype.hasMore = function hasMore() {\n    return this._hasMore;\n  };\n  function VirtualizedList(props, context) {\n    _classCallCheck(this, VirtualizedList);\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props, context));\n    _initialiseProps.call(_this);\n    invariant(!props.onScroll || !props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');\n    invariant(props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');\n    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);\n    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);\n    if (_this.props.viewabilityConfigCallbackPairs) {\n      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {\n        return {\n          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),\n          onViewableItemsChanged: pair.onViewableItemsChanged\n        };\n      });\n    } else if (_this.props.onViewableItemsChanged) {\n      _this._viewabilityTuples.push({\n        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),\n        onViewableItemsChanged: _this.props.onViewableItemsChanged\n      });\n    }\n    var initialState = {\n      first: _this.props.initialScrollIndex || 0,\n      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1\n    };\n    if (_this._isNestedWithSameOrientation()) {\n      var storedState = _this.context.virtualizedList.getNestedChildState(_this.props.listKey || _this._getCellKey());\n      if (storedState) {\n        initialState = storedState;\n        _this.state = storedState;\n        _this._frames = storedState.frames;\n      }\n    }\n    _this.state = initialState;\n    return _this;\n  }\n  VirtualizedList.prototype.componentDidMount = function componentDidMount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.registerAsNestedChild({\n        cellKey: this._getCellKey(),\n        key: this.props.listKey || this._getCellKey(),\n        ref: this\n      });\n    }\n  };\n  VirtualizedList.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.unregisterAsNestedChild({\n        key: this.props.listKey || this._getCellKey(),\n        state: {\n          first: this.state.first,\n          last: this.state.last,\n          frames: this._frames\n        }\n      });\n    }\n    this._updateViewableItems(null);\n    this._updateCellsToRenderBatcher.dispose({\n      abort: true\n    });\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.dispose();\n    });\n    this._fillRateHelper.deactivateAndFlush();\n  };\n  VirtualizedList.getDerivedStateFromProps = function getDerivedStateFromProps(newProps, prevState) {\n    var data = newProps.data,\n      extraData = newProps.extraData,\n      getItemCount = newProps.getItemCount,\n      maxToRenderPerBatch = newProps.maxToRenderPerBatch;\n    return {\n      first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),\n      last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))\n    };\n  };\n  VirtualizedList.prototype._pushCells = function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {\n    var _this2 = this;\n    var _props3 = this.props,\n      CellRendererComponent = _props3.CellRendererComponent,\n      ItemSeparatorComponent = _props3.ItemSeparatorComponent,\n      data = _props3.data,\n      getItem = _props3.getItem,\n      getItemCount = _props3.getItemCount,\n      horizontal = _props3.horizontal,\n      keyExtractor = _props3.keyExtractor;\n    var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;\n    var end = getItemCount(data) - 1;\n    var prevCellKey = void 0;\n    last = Math.min(end, last);\n    var _loop = function _loop(ii) {\n      var item = getItem(data, ii);\n      var key = keyExtractor(item, ii);\n      _this2._indicesToKeys.set(ii, key);\n      if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n        stickyHeaderIndices.push(cells.length);\n      }\n      cells.push(React.createElement(CellRenderer, {\n        CellRendererComponent: CellRendererComponent,\n        ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,\n        cellKey: key,\n        fillRateHelper: _this2._fillRateHelper,\n        horizontal: horizontal,\n        index: ii,\n        inversionStyle: inversionStyle,\n        item: item,\n        key: key,\n        prevCellKey: prevCellKey,\n        onUpdateSeparators: _this2._onUpdateSeparators,\n        onLayout: function onLayout(e) {\n          return _this2._onCellLayout(e, key, ii);\n        },\n        onUnmount: _this2._onCellUnmount,\n        parentProps: _this2.props,\n        ref: function (_ref) {\n          function ref(_x) {\n            return _ref.apply(this, arguments);\n          }\n          ref.toString = function () {\n            return _ref.toString();\n          };\n          return ref;\n        }(function (ref) {\n          _this2._cellRefs[key] = ref;\n        })\n      }));\n      prevCellKey = key;\n    };\n    for (var ii = first; ii <= last; ii++) {\n      _loop(ii);\n    }\n  };\n  VirtualizedList.prototype._isVirtualizationDisabled = function _isVirtualizationDisabled() {\n    return this.props.disableVirtualization;\n  };\n  VirtualizedList.prototype._isNestedWithSameOrientation = function _isNestedWithSameOrientation() {\n    var nestedContext = this.context.virtualizedList;\n    return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);\n  };\n  VirtualizedList.prototype.render = function render() {\n    if (__DEV__) {\n      var flatStyles = flattenStyle(this.props.contentContainerStyle);\n      warning(flatStyles == null || flatStyles.flexWrap !== 'wrap', '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');\n    }\n    var _props4 = this.props,\n      ListEmptyComponent = _props4.ListEmptyComponent,\n      ListFooterComponent = _props4.ListFooterComponent,\n      ListHeaderComponent = _props4.ListHeaderComponent;\n    var _props5 = this.props,\n      data = _props5.data,\n      horizontal = _props5.horizontal;\n    var isVirtualizationDisabled = this._isVirtualizationDisabled();\n    var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;\n    var cells = [];\n    var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);\n    var stickyHeaderIndices = [];\n    if (ListHeaderComponent) {\n      if (stickyIndicesFromProps.has(0)) {\n        stickyHeaderIndices.push(0);\n      }\n      var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);\n      cells.push(React.createElement(VirtualizedCellWrapper, {\n        cellKey: this._getCellKey() + '-header',\n        key: '$header'\n      }, React.createElement(View, {\n        onLayout: this._onLayoutHeader,\n        style: inversionStyle\n      }, element)));\n    }\n    var itemCount = this.props.getItemCount(data);\n    if (itemCount > 0) {\n      _usedIndexForKey = false;\n      var spacerKey = !horizontal ? 'height' : 'width';\n      var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;\n      var _state = this.state,\n        _first = _state.first,\n        _last = _state.last;\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);\n      var firstAfterInitial = Math.max(lastInitialIndex + 1, _first);\n      if (!isVirtualizationDisabled && _first > lastInitialIndex + 1) {\n        var insertedStickySpacer = false;\n        if (stickyIndicesFromProps.size > 0) {\n          var stickyOffset = ListHeaderComponent ? 1 : 0;\n          for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {\n            if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n              var _ref2, _ref3;\n              var initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n              var stickyBlock = this._getFrameMetricsApprox(ii);\n              var leadSpace = stickyBlock.offset - (initBlock.offset + initBlock.length);\n              cells.push(React.createElement(View, {\n                key: '$sticky_lead',\n                style: (_ref2 = {}, _ref2[spacerKey] = leadSpace, _ref2)\n              }));\n              this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);\n              var trailSpace = this._getFrameMetricsApprox(_first).offset - (stickyBlock.offset + stickyBlock.length);\n              cells.push(React.createElement(View, {\n                key: '$sticky_trail',\n                style: (_ref3 = {}, _ref3[spacerKey] = trailSpace, _ref3)\n              }));\n              insertedStickySpacer = true;\n              break;\n            }\n          }\n        }\n        if (!insertedStickySpacer) {\n          var _ref4;\n          var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n          var firstSpace = this._getFrameMetricsApprox(_first).offset - (_initBlock.offset + _initBlock.length);\n          cells.push(React.createElement(View, {\n            key: '$lead_spacer',\n            style: (_ref4 = {}, _ref4[spacerKey] = firstSpace, _ref4)\n          }));\n        }\n      }\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, _last, inversionStyle);\n      if (!this._hasWarned.keys && _usedIndexForKey) {\n        console.warn('VirtualizedList: missing keys for items, make sure to specify a key property on each ' + 'item or provide a custom keyExtractor.');\n        this._hasWarned.keys = true;\n      }\n      if (!isVirtualizationDisabled && _last < itemCount - 1) {\n        var _ref5;\n        var lastFrame = this._getFrameMetricsApprox(_last);\n        var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);\n        var endFrame = this._getFrameMetricsApprox(end);\n        var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);\n        cells.push(React.createElement(View, {\n          key: '$tail_spacer',\n          style: (_ref5 = {}, _ref5[spacerKey] = tailSpacerLength, _ref5)\n        }));\n      }\n    } else if (ListEmptyComponent) {\n      var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);\n      cells.push(React.createElement(View, {\n        key: '$empty',\n        onLayout: this._onLayoutEmpty,\n        style: inversionStyle\n      }, _element));\n    }\n    if (ListFooterComponent) {\n      var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);\n      cells.push(React.createElement(VirtualizedCellWrapper, {\n        cellKey: this._getCellKey() + '-footer',\n        key: '$footer'\n      }, React.createElement(View, {\n        onLayout: this._onLayoutFooter,\n        style: inversionStyle\n      }, _element2)));\n    }\n    var scrollProps = Object.assign({}, this.props, {\n      onContentSizeChange: this._onContentSizeChange,\n      onLayout: this._onLayout,\n      onScroll: this._onScroll,\n      onScrollBeginDrag: this._onScrollBeginDrag,\n      onScrollEndDrag: this._onScrollEndDrag,\n      onMomentumScrollEnd: this._onMomentumScrollEnd,\n      scrollEventThrottle: this.props.scrollEventThrottle,\n      invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,\n      stickyHeaderIndices: stickyHeaderIndices\n    });\n    if (inversionStyle) {\n      scrollProps.style = [inversionStyle, this.props.style];\n    }\n    this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;\n    var ret = React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {\n      ref: this._captureScrollRef\n    }, cells);\n    if (this.props.debug) {\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        }\n      }, ret, this._renderDebugOverlay());\n    } else {\n      return ret;\n    }\n  };\n  VirtualizedList.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props6 = this.props,\n      data = _props6.data,\n      extraData = _props6.extraData;\n    if (data !== prevProps.data || extraData !== prevProps.extraData) {\n      this._hasDataChangedSinceEndReached = true;\n      this._viewabilityTuples.forEach(function (tuple) {\n        tuple.viewabilityHelper.resetViewableIndices();\n      });\n    }\n    this._scheduleCellsToRenderUpdate();\n  };\n  VirtualizedList.prototype._computeBlankness = function _computeBlankness() {\n    this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);\n  };\n  VirtualizedList.prototype._onCellLayout = function _onCellLayout(e, cellKey, index) {\n    var layout = e.nativeEvent.layout;\n    var next = {\n      offset: this._selectOffset(layout),\n      length: this._selectLength(layout),\n      index: index,\n      inLayout: true\n    };\n    var curr = this._frames[cellKey];\n    if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {\n      this._totalCellLength += next.length - (curr ? curr.length : 0);\n      this._totalCellsMeasured += curr ? 0 : 1;\n      this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;\n      this._frames[cellKey] = next;\n      this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);\n      this._scheduleCellsToRenderUpdate();\n    } else {\n      this._frames[cellKey].inLayout = true;\n    }\n    this._computeBlankness();\n  };\n  VirtualizedList.prototype._measureLayoutRelativeToContainingList = function _measureLayoutRelativeToContainingList() {\n    var _this3 = this;\n    UIManager.measureLayout(findNodeHandle(this), findNodeHandle(this.context.virtualizedList.getOutermostParentListRef()), function (error) {\n      console.warn(\"VirtualizedList: Encountered an error while measuring a list's\" + ' offset from its containing VirtualizedList.');\n    }, function (x, y, width, height) {\n      _this3._offsetFromParentVirtualizedList = _this3._selectOffset({\n        x: x,\n        y: y\n      });\n      _this3._scrollMetrics.contentLength = _this3._selectLength({\n        width: width,\n        height: height\n      });\n      var scrollMetrics = _this3._convertParentScrollMetrics(_this3.context.virtualizedList.getScrollMetrics());\n      _this3._scrollMetrics.visibleLength = scrollMetrics.visibleLength;\n      _this3._scrollMetrics.offset = scrollMetrics.offset;\n    });\n  };\n  VirtualizedList.prototype._renderDebugOverlay = function _renderDebugOverlay() {\n    var normalize = this._scrollMetrics.visibleLength / this._scrollMetrics.contentLength;\n    var framesInLayout = [];\n    var itemCount = this.props.getItemCount(this.props.data);\n    for (var ii = 0; ii < itemCount; ii++) {\n      var frame = this._getFrameMetricsApprox(ii);\n      if (frame.inLayout) {\n        framesInLayout.push(frame);\n      }\n    }\n    var windowTop = this._getFrameMetricsApprox(this.state.first).offset;\n    var frameLast = this._getFrameMetricsApprox(this.state.last);\n    var windowLen = frameLast.offset + frameLast.length - windowTop;\n    var visTop = this._scrollMetrics.offset;\n    var visLen = this._scrollMetrics.visibleLength;\n    var baseStyle = {\n      position: 'absolute',\n      top: 0,\n      right: 0\n    };\n    return React.createElement(View, {\n      style: Object.assign({}, baseStyle, {\n        bottom: 0,\n        width: 20,\n        borderColor: 'blue',\n        borderWidth: 1\n      })\n    }, framesInLayout.map(function (f, ii) {\n      return React.createElement(View, {\n        key: 'f' + ii,\n        style: Object.assign({}, baseStyle, {\n          left: 0,\n          top: f.offset * normalize,\n          height: f.length * normalize,\n          backgroundColor: 'orange'\n        })\n      });\n    }), React.createElement(View, {\n      style: Object.assign({}, baseStyle, {\n        left: 0,\n        top: windowTop * normalize,\n        height: windowLen * normalize,\n        borderColor: 'green',\n        borderWidth: 2\n      })\n    }), React.createElement(View, {\n      style: Object.assign({}, baseStyle, {\n        left: 0,\n        top: visTop * normalize,\n        height: visLen * normalize,\n        borderColor: 'red',\n        borderWidth: 2\n      })\n    }));\n  };\n  VirtualizedList.prototype._selectLength = function _selectLength(metrics) {\n    return !this.props.horizontal ? metrics.height : metrics.width;\n  };\n  VirtualizedList.prototype._selectOffset = function _selectOffset(metrics) {\n    return !this.props.horizontal ? metrics.y : metrics.x;\n  };\n  VirtualizedList.prototype._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _props7 = this.props,\n      data = _props7.data,\n      getItemCount = _props7.getItemCount,\n      onEndReached = _props7.onEndReached,\n      onEndReachedThreshold = _props7.onEndReachedThreshold;\n    var _scrollMetrics = this._scrollMetrics,\n      contentLength = _scrollMetrics.contentLength,\n      visibleLength = _scrollMetrics.visibleLength,\n      offset = _scrollMetrics.offset;\n    var distanceFromEnd = contentLength - visibleLength - offset;\n    if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < onEndReachedThreshold * visibleLength && (this._hasDataChangedSinceEndReached || this._scrollMetrics.contentLength !== this._sentEndForContentLength)) {\n      this._hasDataChangedSinceEndReached = false;\n      this._sentEndForContentLength = this._scrollMetrics.contentLength;\n      onEndReached({\n        distanceFromEnd: distanceFromEnd\n      });\n    }\n  };\n  VirtualizedList.prototype._scheduleCellsToRenderUpdate = function _scheduleCellsToRenderUpdate() {\n    var _state2 = this.state,\n      first = _state2.first,\n      last = _state2.last;\n    var _scrollMetrics2 = this._scrollMetrics,\n      offset = _scrollMetrics2.offset,\n      visibleLength = _scrollMetrics2.visibleLength,\n      velocity = _scrollMetrics2.velocity;\n    var itemCount = this.props.getItemCount(this.props.data);\n    var hiPri = false;\n    if (first > 0 || last < itemCount - 1) {\n      var distTop = offset - this._getFrameMetricsApprox(first).offset;\n      var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);\n      var scrollingThreshold = this.props.onEndReachedThreshold * visibleLength / 2;\n      hiPri = Math.min(distTop, distBottom) < 0 || velocity < -2 && distTop < scrollingThreshold || velocity > 2 && distBottom < scrollingThreshold;\n    }\n    if (hiPri && this._averageCellLength) {\n      this._updateCellsToRenderBatcher.dispose({\n        abort: true\n      });\n      this._updateCellsToRender();\n      return;\n    } else {\n      this._updateCellsToRenderBatcher.schedule();\n    }\n  };\n  VirtualizedList.prototype._updateViewableItems = function _updateViewableItems(data) {\n    var _this4 = this;\n    var getItemCount = this.props.getItemCount;\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.onUpdate(getItemCount(data), _this4._scrollMetrics.offset, _this4._scrollMetrics.visibleLength, _this4._getFrameMetrics, _this4._createViewToken, tuple.onViewableItemsChanged, _this4.state);\n    });\n  };\n  return VirtualizedList;\n}(React.PureComponent);\nVirtualizedList.defaultProps = {\n  disableVirtualization: process.env.NODE_ENV === 'test',\n  horizontal: false,\n  initialNumToRender: 10,\n  keyExtractor: function keyExtractor(item, index) {\n    if (item.key != null) {\n      return item.key;\n    }\n    _usedIndexForKey = true;\n    return String(index);\n  },\n  maxToRenderPerBatch: 10,\n  onEndReachedThreshold: 2,\n  scrollEventThrottle: 50,\n  updateCellsBatchingPeriod: 50,\n  windowSize: 21\n};\nVirtualizedList.contextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  }),\n  virtualizedList: PropTypes.shape({\n    getScrollMetrics: PropTypes.func,\n    horizontal: PropTypes.bool,\n    getOutermostParentListRef: PropTypes.func,\n    getNestedChildState: PropTypes.func,\n    registerAsNestedChild: PropTypes.func,\n    unregisterAsNestedChild: PropTypes.func\n  })\n};\nVirtualizedList.childContextTypes = {\n  virtualizedList: PropTypes.shape({\n    getScrollMetrics: PropTypes.func,\n    horizontal: PropTypes.bool,\n    getOutermostParentListRef: PropTypes.func,\n    getNestedChildState: PropTypes.func,\n    registerAsNestedChild: PropTypes.func,\n    unregisterAsNestedChild: PropTypes.func\n  })\n};\nvar _initialiseProps = function _initialiseProps() {\n  var _this7 = this;\n  this._getScrollMetrics = function () {\n    return _this7._scrollMetrics;\n  };\n  this._getOutermostParentListRef = function () {\n    if (_this7._isNestedWithSameOrientation()) {\n      return _this7.context.virtualizedList.getOutermostParentListRef();\n    } else {\n      return _this7;\n    }\n  };\n  this._getNestedChildState = function (key) {\n    var existingChildData = _this7._nestedChildLists.get(key);\n    return existingChildData && existingChildData.state;\n  };\n  this._registerAsNestedChild = function (childList) {\n    var childListsInCell = _this7._cellKeysToChildListKeys.get(childList.cellKey) || new Set();\n    childListsInCell.add(childList.key);\n    _this7._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);\n    var existingChildData = _this7._nestedChildLists.get(childList.key);\n    invariant(!(existingChildData && existingChildData.ref !== null), 'A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');\n    _this7._nestedChildLists.set(childList.key, {\n      ref: childList.ref,\n      state: null\n    });\n    if (_this7._hasInteracted) {\n      childList.ref.recordInteraction();\n    }\n  };\n  this._unregisterAsNestedChild = function (childList) {\n    _this7._nestedChildLists.set(childList.key, {\n      ref: null,\n      state: childList.state\n    });\n  };\n  this._onUpdateSeparators = function (keys, newProps) {\n    keys.forEach(function (key) {\n      var ref = key != null && _this7._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    });\n  };\n  this._averageCellLength = 0;\n  this._cellKeysToChildListKeys = new Map();\n  this._cellRefs = {};\n  this._frames = {};\n  this._footerLength = 0;\n  this._hasDataChangedSinceEndReached = true;\n  this._hasInteracted = false;\n  this._hasMore = false;\n  this._hasWarned = {};\n  this._highestMeasuredFrameIndex = 0;\n  this._headerLength = 0;\n  this._indicesToKeys = new Map();\n  this._hasDoneInitialScroll = false;\n  this._nestedChildLists = new Map();\n  this._offsetFromParentVirtualizedList = 0;\n  this._prevParentOffset = 0;\n  this._scrollMetrics = {\n    contentLength: 0,\n    dOffset: 0,\n    dt: 10,\n    offset: 0,\n    timestamp: 0,\n    velocity: 0,\n    visibleLength: 0\n  };\n  this._scrollRef = null;\n  this._sentEndForContentLength = 0;\n  this._totalCellLength = 0;\n  this._totalCellsMeasured = 0;\n  this._viewabilityTuples = [];\n  this._captureScrollRef = function (ref) {\n    _this7._scrollRef = ref;\n  };\n  this._defaultRenderScrollComponent = function (props) {\n    if (_this7._isNestedWithSameOrientation()) {\n      return React.createElement(View, props);\n    } else if (props.onRefresh) {\n      invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');\n      return React.createElement(ScrollView, _extends({}, props, {\n        refreshControl: React.createElement(RefreshControl, {\n          refreshing: props.refreshing,\n          onRefresh: props.onRefresh,\n          progressViewOffset: props.progressViewOffset\n        })\n      }));\n    } else {\n      return React.createElement(ScrollView, props);\n    }\n  };\n  this._onCellUnmount = function (cellKey) {\n    var curr = _this7._frames[cellKey];\n    if (curr) {\n      _this7._frames[cellKey] = Object.assign({}, curr, {\n        inLayout: false\n      });\n    }\n  };\n  this._onLayout = function (e) {\n    if (_this7._isNestedWithSameOrientation()) {\n      _this7._measureLayoutRelativeToContainingList();\n    } else {\n      _this7._scrollMetrics.visibleLength = _this7._selectLength(e.nativeEvent.layout);\n    }\n    _this7.props.onLayout && _this7.props.onLayout(e);\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n  this._onLayoutEmpty = function (e) {\n    _this7.props.onLayout && _this7.props.onLayout(e);\n  };\n  this._onLayoutFooter = function (e) {\n    _this7._footerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n  this._onLayoutHeader = function (e) {\n    _this7._headerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n  this._onContentSizeChange = function (width, height) {\n    if (width > 0 && height > 0 && _this7.props.initialScrollIndex != null && _this7.props.initialScrollIndex > 0 && !_this7._hasDoneInitialScroll) {\n      _this7.scrollToIndex({\n        animated: false,\n        index: _this7.props.initialScrollIndex\n      });\n      _this7._hasDoneInitialScroll = true;\n    }\n    if (_this7.props.onContentSizeChange) {\n      _this7.props.onContentSizeChange(width, height);\n    }\n    _this7._scrollMetrics.contentLength = _this7._selectLength({\n      height: height,\n      width: width\n    });\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n  this._convertParentScrollMetrics = function (metrics) {\n    var offset = metrics.offset - _this7._offsetFromParentVirtualizedList;\n    var visibleLength = metrics.visibleLength;\n    var dOffset = offset - _this7._scrollMetrics.offset;\n    var contentLength = _this7._scrollMetrics.contentLength;\n    return {\n      visibleLength: visibleLength,\n      contentLength: contentLength,\n      offset: offset,\n      dOffset: dOffset\n    };\n  };\n  this._onScroll = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScroll(e);\n    });\n    if (_this7.props.onScroll) {\n      _this7.props.onScroll(e);\n    }\n    var timestamp = e.timeStamp;\n    var visibleLength = _this7._selectLength(e.nativeEvent.layoutMeasurement);\n    var contentLength = _this7._selectLength(e.nativeEvent.contentSize);\n    var offset = _this7._selectOffset(e.nativeEvent.contentOffset);\n    var dOffset = offset - _this7._scrollMetrics.offset;\n    if (_this7._isNestedWithSameOrientation()) {\n      if (_this7._scrollMetrics.contentLength === 0) {\n        return;\n      }\n      var _convertParentScrollM = _this7._convertParentScrollMetrics({\n        visibleLength: visibleLength,\n        offset: offset\n      });\n      visibleLength = _convertParentScrollM.visibleLength;\n      contentLength = _convertParentScrollM.contentLength;\n      offset = _convertParentScrollM.offset;\n      dOffset = _convertParentScrollM.dOffset;\n    }\n    var dt = _this7._scrollMetrics.timestamp ? Math.max(1, timestamp - _this7._scrollMetrics.timestamp) : 1;\n    var velocity = dOffset / dt;\n    if (dt > 500 && _this7._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this7._hasWarned.perf) {\n      infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {\n        dt: dt,\n        prevDt: _this7._scrollMetrics.dt,\n        contentLength: contentLength\n      });\n      _this7._hasWarned.perf = true;\n    }\n    _this7._scrollMetrics = {\n      contentLength: contentLength,\n      dt: dt,\n      dOffset: dOffset,\n      offset: offset,\n      timestamp: timestamp,\n      velocity: velocity,\n      visibleLength: visibleLength\n    };\n    _this7._updateViewableItems(_this7.props.data);\n    if (!_this7.props) {\n      return;\n    }\n    _this7._maybeCallOnEndReached();\n    if (velocity !== 0) {\n      _this7._fillRateHelper.activate();\n    }\n    _this7._computeBlankness();\n    _this7._scheduleCellsToRenderUpdate();\n  };\n  this._onScrollBeginDrag = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScrollBeginDrag(e);\n    });\n    _this7._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.recordInteraction();\n    });\n    _this7._hasInteracted = true;\n    _this7.props.onScrollBeginDrag && _this7.props.onScrollBeginDrag(e);\n  };\n  this._onScrollEndDrag = function (e) {\n    var velocity = e.nativeEvent.velocity;\n    if (velocity) {\n      _this7._scrollMetrics.velocity = _this7._selectOffset(velocity);\n    }\n    _this7._computeBlankness();\n    _this7.props.onScrollEndDrag && _this7.props.onScrollEndDrag(e);\n  };\n  this._onMomentumScrollEnd = function (e) {\n    _this7._scrollMetrics.velocity = 0;\n    _this7._computeBlankness();\n    _this7.props.onMomentumScrollEnd && _this7.props.onMomentumScrollEnd(e);\n  };\n  this._updateCellsToRender = function () {\n    var _props9 = _this7.props,\n      data = _props9.data,\n      getItemCount = _props9.getItemCount,\n      onEndReachedThreshold = _props9.onEndReachedThreshold;\n    var isVirtualizationDisabled = _this7._isVirtualizationDisabled();\n    _this7._updateViewableItems(data);\n    if (!data) {\n      return;\n    }\n    _this7.setState(function (state) {\n      var newState = void 0;\n      if (!isVirtualizationDisabled) {\n        if (_this7._scrollMetrics.visibleLength) {\n          if (!_this7.props.initialScrollIndex || _this7._scrollMetrics.offset) {\n            newState = computeWindowedRenderLimits(_this7.props, state, _this7._getFrameMetricsApprox, _this7._scrollMetrics);\n          }\n        }\n      } else {\n        var _scrollMetrics3 = _this7._scrollMetrics,\n          contentLength = _scrollMetrics3.contentLength,\n          _offset = _scrollMetrics3.offset,\n          visibleLength = _scrollMetrics3.visibleLength;\n        var _distanceFromEnd = contentLength - visibleLength - _offset;\n        var renderAhead = _distanceFromEnd < onEndReachedThreshold * visibleLength ? _this7.props.maxToRenderPerBatch : 0;\n        newState = {\n          first: 0,\n          last: Math.min(state.last + renderAhead, getItemCount(data) - 1)\n        };\n      }\n      if (newState && _this7._nestedChildLists.size > 0) {\n        var newFirst = newState.first;\n        var newLast = newState.last;\n        for (var ii = newFirst; ii <= newLast; ii++) {\n          var cellKeyForIndex = _this7._indicesToKeys.get(ii);\n          var childListKeys = cellKeyForIndex && _this7._cellKeysToChildListKeys.get(cellKeyForIndex);\n          if (!childListKeys) {\n            continue;\n          }\n          var someChildHasMore = false;\n          for (var _iterator = childListKeys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref6;\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref6 = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref6 = _i.value;\n            }\n            var childKey = _ref6;\n            var childList = _this7._nestedChildLists.get(childKey);\n            if (childList && childList.ref && childList.ref.hasMore()) {\n              someChildHasMore = true;\n              break;\n            }\n          }\n          if (someChildHasMore) {\n            newState.last = ii;\n            break;\n          }\n        }\n      }\n      return newState;\n    });\n  };\n  this._createViewToken = function (index, isViewable) {\n    var _props10 = _this7.props,\n      data = _props10.data,\n      getItem = _props10.getItem,\n      keyExtractor = _props10.keyExtractor;\n    var item = getItem(data, index);\n    return {\n      index: index,\n      item: item,\n      key: keyExtractor(item, index),\n      isViewable: isViewable\n    };\n  };\n  this._getFrameMetricsApprox = function (index) {\n    var frame = _this7._getFrameMetrics(index);\n    if (frame && frame.index === index) {\n      return frame;\n    } else {\n      var _getItemLayout = _this7.props.getItemLayout;\n      invariant(!_getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');\n      return {\n        length: _this7._averageCellLength,\n        offset: _this7._averageCellLength * index\n      };\n    }\n  };\n  this._getFrameMetrics = function (index) {\n    var _props11 = _this7.props,\n      data = _props11.data,\n      getItem = _props11.getItem,\n      getItemCount = _props11.getItemCount,\n      getItemLayout = _props11.getItemLayout,\n      keyExtractor = _props11.keyExtractor;\n    invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);\n    var item = getItem(data, index);\n    var frame = item && _this7._frames[keyExtractor(item, index)];\n    if (!frame || frame.index !== index) {\n      if (getItemLayout) {\n        frame = getItemLayout(data, index);\n        if (__DEV__) {\n          var frameType = PropTypes.shape({\n            length: PropTypes.number.isRequired,\n            offset: PropTypes.number.isRequired,\n            index: PropTypes.number.isRequired\n          }).isRequired;\n          PropTypes.checkPropTypes({\n            frame: frameType\n          }, {\n            frame: frame\n          }, 'frame', 'VirtualizedList.getItemLayout');\n        }\n      }\n    }\n    return frame;\n  };\n};\nvar CellRenderer = function (_React$Component) {\n  _inherits(CellRenderer, _React$Component);\n  function CellRenderer() {\n    var _temp, _this5, _ret2;\n    _classCallCheck(this, CellRenderer);\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret2 = (_temp = (_this5 = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this5), _this5.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this5.props.item\n      }\n    }, _this5._separators = {\n      highlight: function highlight() {\n        var _this5$props = _this5.props,\n          cellKey = _this5$props.cellKey,\n          prevCellKey = _this5$props.prevCellKey;\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: true\n        });\n      },\n      unhighlight: function unhighlight() {\n        var _this5$props2 = _this5.props,\n          cellKey = _this5$props2.cellKey,\n          prevCellKey = _this5$props2.prevCellKey;\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: false\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this5$props3 = _this5.props,\n          cellKey = _this5$props3.cellKey,\n          prevCellKey = _this5$props3.prevCellKey;\n        _this5.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);\n      }\n    }, _temp), _possibleConstructorReturn(_this5, _ret2);\n  }\n  CellRenderer.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n  CellRenderer.prototype.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: Object.assign({}, state.separatorProps, newProps)\n      };\n    });\n  };\n  CellRenderer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  };\n  CellRenderer.prototype.render = function render() {\n    var _props8 = this.props,\n      CellRendererComponent = _props8.CellRendererComponent,\n      ItemSeparatorComponent = _props8.ItemSeparatorComponent,\n      fillRateHelper = _props8.fillRateHelper,\n      horizontal = _props8.horizontal,\n      item = _props8.item,\n      index = _props8.index,\n      inversionStyle = _props8.inversionStyle,\n      parentProps = _props8.parentProps;\n    var renderItem = parentProps.renderItem,\n      getItemLayout = parentProps.getItemLayout;\n    invariant(renderItem, 'no renderItem!');\n    var element = renderItem({\n      item: item,\n      index: index,\n      separators: this._separators\n    });\n    var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;\n    var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);\n    var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;\n    if (!CellRendererComponent) {\n      return React.createElement(View, {\n        style: cellStyle,\n        onLayout: onLayout\n      }, element, itemSeparator);\n    }\n    return React.createElement(CellRendererComponent, _extends({}, this.props, {\n      style: cellStyle,\n      onLayout: onLayout\n    }), element, itemSeparator);\n  };\n  return CellRenderer;\n}(React.Component);\nCellRenderer.childContextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  })\n};\nvar VirtualizedCellWrapper = function (_React$Component2) {\n  _inherits(VirtualizedCellWrapper, _React$Component2);\n  function VirtualizedCellWrapper() {\n    _classCallCheck(this, VirtualizedCellWrapper);\n    return _possibleConstructorReturn(this, _React$Component2.apply(this, arguments));\n  }\n  VirtualizedCellWrapper.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n  VirtualizedCellWrapper.prototype.render = function render() {\n    return this.props.children;\n  };\n  return VirtualizedCellWrapper;\n}(React.Component);\nVirtualizedCellWrapper.childContextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  })\n};\nvar styles = StyleSheet.create({\n  verticallyInverted: {\n    transform: [{\n      scaleY: -1\n    }]\n  },\n  horizontallyInverted: {\n    transform: [{\n      scaleX: -1\n    }]\n  },\n  row: {\n    flexDirection: 'row'\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse'\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse'\n  }\n});\nexport default VirtualizedList;","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","Batchinator","FillRateHelper","PropTypes","React","RefreshControl","ScrollView","StyleSheet","UIManager","View","ViewabilityHelper","computeWindowedRenderLimits","findNodeHandle","infoLog","invariant","warning","flattenStyle","flatten","__DEV__","process","env","NODE_ENV","_usedIndexForKey","VirtualizedList","_React$PureComponent","scrollToEnd","params","animated","veryLast","props","getItemCount","data","frame","_getFrameMetricsApprox","offset","Math","max","_footerLength","_scrollMetrics","visibleLength","_scrollRef","scrollTo","horizontal","x","y","scrollToIndex","_props","getItemLayout","onScrollToIndexFailed","index","viewOffset","viewPosition","_highestMeasuredFrameIndex","averageItemLength","_averageCellLength","highestMeasuredFrameIndex","scrollToItem","item","_props2","getItem","itemCount","_index","scrollToOffset","recordInteraction","_nestedChildLists","forEach","childList","ref","_viewabilityTuples","t","viewabilityHelper","_updateViewableItems","flashScrollIndicators","getScrollResponder","getScrollableNode","setNativeProps","getChildContext","virtualizedList","getScrollMetrics","_getScrollMetrics","getOutermostParentListRef","_getOutermostParentListRef","getNestedChildState","_getNestedChildState","registerAsNestedChild","_registerAsNestedChild","unregisterAsNestedChild","_unregisterAsNestedChild","_getCellKey","context","virtualizedCell","cellKey","hasMore","_hasMore","_this","_initialiseProps","onScroll","__isNative","windowSize","_fillRateHelper","_getFrameMetrics","_updateCellsToRenderBatcher","_updateCellsToRender","updateCellsBatchingPeriod","viewabilityConfigCallbackPairs","map","pair","viewabilityConfig","onViewableItemsChanged","push","initialState","first","initialScrollIndex","last","min","initialNumToRender","_isNestedWithSameOrientation","storedState","listKey","state","_frames","frames","componentDidMount","componentWillUnmount","dispose","abort","tuple","deactivateAndFlush","getDerivedStateFromProps","newProps","prevState","extraData","maxToRenderPerBatch","_pushCells","cells","stickyHeaderIndices","stickyIndicesFromProps","inversionStyle","_this2","_props3","CellRendererComponent","ItemSeparatorComponent","keyExtractor","stickyOffset","ListHeaderComponent","end","prevCellKey","_loop","ii","_indicesToKeys","set","has","createElement","CellRenderer","undefined","fillRateHelper","onUpdateSeparators","_onUpdateSeparators","onLayout","e","_onCellLayout","onUnmount","_onCellUnmount","parentProps","_ref","_x","apply","toString","_cellRefs","_isVirtualizationDisabled","disableVirtualization","nestedContext","render","flatStyles","contentContainerStyle","flexWrap","_props4","ListEmptyComponent","ListFooterComponent","_props5","isVirtualizationDisabled","inverted","styles","horizontallyInverted","verticallyInverted","Set","element","isValidElement","VirtualizedCellWrapper","_onLayoutHeader","style","spacerKey","lastInitialIndex","_state","_first","_last","firstAfterInitial","insertedStickySpacer","size","_ref2","_ref3","initBlock","stickyBlock","leadSpace","trailSpace","_ref4","_initBlock","firstSpace","_hasWarned","keys","console","warn","_ref5","lastFrame","endFrame","tailSpacerLength","_element","_onLayoutEmpty","_element2","_onLayoutFooter","scrollProps","onContentSizeChange","_onContentSizeChange","_onLayout","_onScroll","onScrollBeginDrag","_onScrollBeginDrag","onScrollEndDrag","_onScrollEndDrag","onMomentumScrollEnd","_onMomentumScrollEnd","scrollEventThrottle","invertStickyHeaders","ret","cloneElement","renderScrollComponent","_defaultRenderScrollComponent","_captureScrollRef","debug","flex","_renderDebugOverlay","componentDidUpdate","prevProps","_props6","_hasDataChangedSinceEndReached","resetViewableIndices","_scheduleCellsToRenderUpdate","_computeBlankness","computeBlankness","layout","nativeEvent","next","_selectOffset","_selectLength","inLayout","curr","_totalCellLength","_totalCellsMeasured","_measureLayoutRelativeToContainingList","_this3","measureLayout","error","width","height","_offsetFromParentVirtualizedList","contentLength","scrollMetrics","_convertParentScrollMetrics","normalize","framesInLayout","windowTop","frameLast","windowLen","visTop","visLen","baseStyle","position","top","right","bottom","borderColor","borderWidth","f","left","backgroundColor","metrics","_maybeCallOnEndReached","_props7","onEndReached","onEndReachedThreshold","distanceFromEnd","_sentEndForContentLength","_state2","_scrollMetrics2","velocity","hiPri","distTop","distBottom","scrollingThreshold","schedule","_this4","onUpdate","_createViewToken","PureComponent","defaultProps","String","contextTypes","shape","string","func","bool","childContextTypes","_this7","existingChildData","get","childListsInCell","_cellKeysToChildListKeys","add","_hasInteracted","updateSeparatorProps","Map","_headerLength","_hasDoneInitialScroll","_prevParentOffset","dOffset","dt","timestamp","onRefresh","refreshing","JSON","stringify","refreshControl","progressViewOffset","timeStamp","layoutMeasurement","contentSize","contentOffset","_convertParentScrollM","perf","prevDt","activate","_props9","setState","newState","_scrollMetrics3","_offset","_distanceFromEnd","renderAhead","newFirst","newLast","cellKeyForIndex","childListKeys","someChildHasMore","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref6","done","childKey","isViewable","_props10","_getItemLayout","_props11","frameType","number","isRequired","checkPropTypes","_React$Component","_temp","_this5","_ret2","_len","args","_key","concat","separatorProps","highlighted","leadingItem","_separators","highlight","_this5$props","unhighlight","_this5$props2","updateProps","select","_this5$props3","_props8","renderItem","separators","enabled","itemSeparator","cellStyle","rowReverse","columnReverse","row","Component","_React$Component2","children","transform","scaleY","scaleX","flexDirection"],"sources":["C:/Users/ELITE BOOK/Desktop/Update/Recipe-App/node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/index.js"],"sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @noflow\n * @format\n */\nimport Batchinator from '../Batchinator';\nimport FillRateHelper from '../FillRateHelper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport RefreshControl from '../../../exports/RefreshControl';\nimport ScrollView from '../../../exports/ScrollView';\nimport StyleSheet from '../../../exports/StyleSheet';\nimport UIManager from '../../../exports/UIManager';\nimport View from '../../../exports/View';\nimport ViewabilityHelper from '../ViewabilityHelper';\nimport { computeWindowedRenderLimits } from '../VirtualizeUtils';\nimport findNodeHandle from '../../../exports/findNodeHandle';\nimport infoLog from '../infoLog';\nimport invariant from 'fbjs/lib/invariant';\nimport warning from 'fbjs/lib/warning';\n\nvar flattenStyle = StyleSheet.flatten;\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n/* $FlowFixMe - this Props seems to be missing a bunch of stuff. Remove this\n * comment to see the errors */\n\n\nvar _usedIndexForKey = false;\n\n/**\n * Base implementation for the more convenient [`<FlatList>`](/react-native/docs/flatlist.html)\n * and [`<SectionList>`](/react-native/docs/sectionlist.html) components, which are also better\n * documented. In general, this should only really be used if you need more flexibility than\n * `FlatList` provides, e.g. for use with immutable data instead of plain arrays.\n *\n * Virtualization massively improves memory consumption and performance of large lists by\n * maintaining a finite render window of active items and replacing all items outside of the render\n * window with appropriately sized blank space. The window adapts to scrolling behavior, and items\n * are rendered incrementally with low-pri (after any running interactions) if they are far from the\n * visible area, or with hi-pri otherwise to minimize the potential of seeing blank space.\n *\n * Some caveats:\n *\n * - Internal state is not preserved when content scrolls out of the render window. Make sure all\n *   your data is captured in the item data or external stores like Flux, Redux, or Relay.\n * - This is a `PureComponent` which means that it will not re-render if `props` remain shallow-\n *   equal. Make sure that everything your `renderItem` function depends on is passed as a prop\n *   (e.g. `extraData`) that is not `===` after updates, otherwise your UI may not update on\n *   changes. This includes the `data` prop and parent component state.\n * - In order to constrain memory and enable smooth scrolling, content is rendered asynchronously\n *   offscreen. This means it's possible to scroll faster than the fill rate ands momentarily see\n *   blank content. This is a tradeoff that can be adjusted to suit the needs of each application,\n *   and we are working on improving it behind the scenes.\n * - By default, the list looks for a `key` prop on each item and uses that for the React key.\n *   Alternatively, you can provide a custom `keyExtractor` prop.\n *\n */\nvar VirtualizedList = function (_React$PureComponent) {\n  _inherits(VirtualizedList, _React$PureComponent);\n\n  // scrollToEnd may be janky without getItemLayout prop\n  VirtualizedList.prototype.scrollToEnd = function scrollToEnd(params) {\n    var animated = params ? params.animated : true;\n    var veryLast = this.props.getItemCount(this.props.data) - 1;\n    var frame = this._getFrameMetricsApprox(veryLast);\n    var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n    this._scrollRef.scrollTo(\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n     * comment suppresses an error when upgrading Flow's support for React.\n     * To see the error delete this comment and run Flow. */\n    this.props.horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });\n  };\n\n  // scrollToIndex may be janky without getItemLayout prop\n\n\n  VirtualizedList.prototype.scrollToIndex = function scrollToIndex(params) {\n    var _props = this.props,\n        data = _props.data,\n        horizontal = _props.horizontal,\n        getItemCount = _props.getItemCount,\n        getItemLayout = _props.getItemLayout,\n        onScrollToIndexFailed = _props.onScrollToIndexFailed;\n    var animated = params.animated,\n        index = params.index,\n        viewOffset = params.viewOffset,\n        viewPosition = params.viewPosition;\n\n    invariant(index >= 0 && index < getItemCount(data), 'scrollToIndex out of range: ' + index + ' vs ' + (getItemCount(data) - 1));\n    if (!getItemLayout && index > this._highestMeasuredFrameIndex) {\n      invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');\n      onScrollToIndexFailed({\n        averageItemLength: this._averageCellLength,\n        highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,\n        index: index\n      });\n      return;\n    }\n    var frame = this._getFrameMetricsApprox(index);\n    var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n    this._scrollRef.scrollTo(\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n     * comment suppresses an error when upgrading Flow's support for React.\n     * To see the error delete this comment and run Flow. */\n    horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });\n  };\n\n  // scrollToItem may be janky without getItemLayout prop. Required linear scan through items -\n  // use scrollToIndex instead if possible.\n\n\n  VirtualizedList.prototype.scrollToItem = function scrollToItem(params) {\n    var item = params.item;\n    var _props2 = this.props,\n        data = _props2.data,\n        getItem = _props2.getItem,\n        getItemCount = _props2.getItemCount;\n\n    var itemCount = getItemCount(data);\n    for (var _index = 0; _index < itemCount; _index++) {\n      if (getItem(data, _index) === item) {\n        this.scrollToIndex(Object.assign({}, params, { index: _index }));\n        break;\n      }\n    }\n  };\n\n  /**\n   * Scroll to a specific content pixel offset in the list.\n   *\n   * Param `offset` expects the offset to scroll to.\n   * In case of `horizontal` is true, the offset is the x-value,\n   * in any other case the offset is the y-value.\n   *\n   * Param `animated` (`true` by default) defines whether the list\n   * should do an animation while scrolling.\n   */\n\n\n  VirtualizedList.prototype.scrollToOffset = function scrollToOffset(params) {\n    var animated = params.animated,\n        offset = params.offset;\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n\n    this._scrollRef.scrollTo(\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n     * comment suppresses an error when upgrading Flow's support for React.\n     * To see the error delete this comment and run Flow. */\n    this.props.horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });\n  };\n\n  VirtualizedList.prototype.recordInteraction = function recordInteraction() {\n    this._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref.recordInteraction();\n    });\n    this._viewabilityTuples.forEach(function (t) {\n      t.viewabilityHelper.recordInteraction();\n    });\n    this._updateViewableItems(this.props.data);\n  };\n\n  VirtualizedList.prototype.flashScrollIndicators = function flashScrollIndicators() {\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n    this._scrollRef.flashScrollIndicators();\n  };\n\n  /**\n   * Provides a handle to the underlying scroll responder.\n   * Note that `this._scrollRef` might not be a `ScrollView`, so we\n   * need to check that it responds to `getScrollResponder` before calling it.\n   */\n\n\n  VirtualizedList.prototype.getScrollResponder = function getScrollResponder() {\n    if (this._scrollRef && this._scrollRef.getScrollResponder) {\n      return this._scrollRef.getScrollResponder();\n    }\n  };\n\n  VirtualizedList.prototype.getScrollableNode = function getScrollableNode() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      return this._scrollRef.getScrollableNode();\n    } else {\n      return findNodeHandle(this._scrollRef);\n    }\n  };\n\n  VirtualizedList.prototype.setNativeProps = function setNativeProps(props) {\n    if (this._scrollRef) {\n      this._scrollRef.setNativeProps(props);\n    }\n  };\n\n  VirtualizedList.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedList: {\n        getScrollMetrics: this._getScrollMetrics,\n        horizontal: this.props.horizontal,\n        getOutermostParentListRef: this._getOutermostParentListRef,\n        getNestedChildState: this._getNestedChildState,\n        registerAsNestedChild: this._registerAsNestedChild,\n        unregisterAsNestedChild: this._unregisterAsNestedChild\n      }\n    };\n  };\n\n  VirtualizedList.prototype._getCellKey = function _getCellKey() {\n    return this.context.virtualizedCell && this.context.virtualizedCell.cellKey || 'rootList';\n  };\n\n  VirtualizedList.prototype.hasMore = function hasMore() {\n    return this._hasMore;\n  };\n\n  function VirtualizedList(props, context) {\n    _classCallCheck(this, VirtualizedList);\n\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props, context));\n\n    _initialiseProps.call(_this);\n\n    invariant(!props.onScroll || !props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');\n\n    invariant(props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');\n\n    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);\n    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);\n\n    if (_this.props.viewabilityConfigCallbackPairs) {\n      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {\n        return {\n          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),\n          onViewableItemsChanged: pair.onViewableItemsChanged\n        };\n      });\n    } else if (_this.props.onViewableItemsChanged) {\n      _this._viewabilityTuples.push({\n        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),\n        onViewableItemsChanged: _this.props.onViewableItemsChanged\n      });\n    }\n\n    var initialState = {\n      first: _this.props.initialScrollIndex || 0,\n      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1\n    };\n\n    if (_this._isNestedWithSameOrientation()) {\n      var storedState = _this.context.virtualizedList.getNestedChildState(_this.props.listKey || _this._getCellKey());\n      if (storedState) {\n        initialState = storedState;\n        _this.state = storedState;\n        _this._frames = storedState.frames;\n      }\n    }\n\n    _this.state = initialState;\n    return _this;\n  }\n\n  VirtualizedList.prototype.componentDidMount = function componentDidMount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.registerAsNestedChild({\n        cellKey: this._getCellKey(),\n        key: this.props.listKey || this._getCellKey(),\n        ref: this\n      });\n    }\n  };\n\n  VirtualizedList.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.unregisterAsNestedChild({\n        key: this.props.listKey || this._getCellKey(),\n        state: {\n          first: this.state.first,\n          last: this.state.last,\n          frames: this._frames\n        }\n      });\n    }\n    this._updateViewableItems(null);\n    this._updateCellsToRenderBatcher.dispose({ abort: true });\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.dispose();\n    });\n    this._fillRateHelper.deactivateAndFlush();\n  };\n\n  VirtualizedList.getDerivedStateFromProps = function getDerivedStateFromProps(newProps, prevState) {\n    var data = newProps.data,\n        extraData = newProps.extraData,\n        getItemCount = newProps.getItemCount,\n        maxToRenderPerBatch = newProps.maxToRenderPerBatch;\n    // first and last could be stale (e.g. if a new, shorter items props is passed in), so we make\n    // sure we're rendering a reasonable range here.\n\n    return {\n      first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),\n      last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))\n    };\n  };\n\n  VirtualizedList.prototype._pushCells = function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {\n    var _this2 = this;\n\n    var _props3 = this.props,\n        CellRendererComponent = _props3.CellRendererComponent,\n        ItemSeparatorComponent = _props3.ItemSeparatorComponent,\n        data = _props3.data,\n        getItem = _props3.getItem,\n        getItemCount = _props3.getItemCount,\n        horizontal = _props3.horizontal,\n        keyExtractor = _props3.keyExtractor;\n\n    var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;\n    var end = getItemCount(data) - 1;\n    var prevCellKey = void 0;\n    last = Math.min(end, last);\n\n    var _loop = function _loop(ii) {\n      var item = getItem(data, ii);\n      var key = keyExtractor(item, ii);\n      _this2._indicesToKeys.set(ii, key);\n      if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n        stickyHeaderIndices.push(cells.length);\n      }\n      cells.push(React.createElement(CellRenderer, {\n        CellRendererComponent: CellRendererComponent,\n        ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,\n        cellKey: key,\n        fillRateHelper: _this2._fillRateHelper,\n        horizontal: horizontal,\n        index: ii,\n        inversionStyle: inversionStyle,\n        item: item,\n        key: key,\n        prevCellKey: prevCellKey,\n        onUpdateSeparators: _this2._onUpdateSeparators,\n        onLayout: function onLayout(e) {\n          return _this2._onCellLayout(e, key, ii);\n        },\n        onUnmount: _this2._onCellUnmount,\n        parentProps: _this2.props,\n        ref: function (_ref) {\n          function ref(_x) {\n            return _ref.apply(this, arguments);\n          }\n\n          ref.toString = function () {\n            return _ref.toString();\n          };\n\n          return ref;\n        }(function (ref) {\n          _this2._cellRefs[key] = ref;\n        })\n      }));\n      prevCellKey = key;\n    };\n\n    for (var ii = first; ii <= last; ii++) {\n      _loop(ii);\n    }\n  };\n\n  VirtualizedList.prototype._isVirtualizationDisabled = function _isVirtualizationDisabled() {\n    return this.props.disableVirtualization;\n  };\n\n  VirtualizedList.prototype._isNestedWithSameOrientation = function _isNestedWithSameOrientation() {\n    var nestedContext = this.context.virtualizedList;\n    return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);\n  };\n\n  VirtualizedList.prototype.render = function render() {\n    if (__DEV__) {\n      var flatStyles = flattenStyle(this.props.contentContainerStyle);\n      warning(flatStyles == null || flatStyles.flexWrap !== 'wrap', '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');\n    }\n    var _props4 = this.props,\n        ListEmptyComponent = _props4.ListEmptyComponent,\n        ListFooterComponent = _props4.ListFooterComponent,\n        ListHeaderComponent = _props4.ListHeaderComponent;\n    var _props5 = this.props,\n        data = _props5.data,\n        horizontal = _props5.horizontal;\n\n    var isVirtualizationDisabled = this._isVirtualizationDisabled();\n    var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;\n    var cells = [];\n    var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);\n    var stickyHeaderIndices = [];\n    if (ListHeaderComponent) {\n      if (stickyIndicesFromProps.has(0)) {\n        stickyHeaderIndices.push(0);\n      }\n      var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent :\n      // $FlowFixMe\n      React.createElement(ListHeaderComponent, null);\n      cells.push(React.createElement(\n        VirtualizedCellWrapper,\n        {\n          cellKey: this._getCellKey() + '-header',\n          key: '$header' },\n        React.createElement(\n          View,\n          { onLayout: this._onLayoutHeader, style: inversionStyle },\n          element\n        )\n      ));\n    }\n    var itemCount = this.props.getItemCount(data);\n    if (itemCount > 0) {\n      _usedIndexForKey = false;\n      var spacerKey = !horizontal ? 'height' : 'width';\n      var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;\n      var _state = this.state,\n          _first = _state.first,\n          _last = _state.last;\n\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);\n      var firstAfterInitial = Math.max(lastInitialIndex + 1, _first);\n      if (!isVirtualizationDisabled && _first > lastInitialIndex + 1) {\n        var insertedStickySpacer = false;\n        if (stickyIndicesFromProps.size > 0) {\n          var stickyOffset = ListHeaderComponent ? 1 : 0;\n          // See if there are any sticky headers in the virtualized space that we need to render.\n          for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {\n            if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n              var _ref2, _ref3;\n\n              var initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n              var stickyBlock = this._getFrameMetricsApprox(ii);\n              var leadSpace = stickyBlock.offset - (initBlock.offset + initBlock.length);\n              cells.push(React.createElement(View, { key: '$sticky_lead', style: (_ref2 = {}, _ref2[spacerKey] = leadSpace, _ref2) }));\n              this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);\n              var trailSpace = this._getFrameMetricsApprox(_first).offset - (stickyBlock.offset + stickyBlock.length);\n              cells.push(React.createElement(View, { key: '$sticky_trail', style: (_ref3 = {}, _ref3[spacerKey] = trailSpace, _ref3) }));\n              insertedStickySpacer = true;\n              break;\n            }\n          }\n        }\n        if (!insertedStickySpacer) {\n          var _ref4;\n\n          var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n          var firstSpace = this._getFrameMetricsApprox(_first).offset - (_initBlock.offset + _initBlock.length);\n          cells.push(React.createElement(View, { key: '$lead_spacer', style: (_ref4 = {}, _ref4[spacerKey] = firstSpace, _ref4) }));\n        }\n      }\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, _last, inversionStyle);\n      if (!this._hasWarned.keys && _usedIndexForKey) {\n        console.warn('VirtualizedList: missing keys for items, make sure to specify a key property on each ' + 'item or provide a custom keyExtractor.');\n        this._hasWarned.keys = true;\n      }\n      if (!isVirtualizationDisabled && _last < itemCount - 1) {\n        var _ref5;\n\n        var lastFrame = this._getFrameMetricsApprox(_last);\n        // Without getItemLayout, we limit our tail spacer to the _highestMeasuredFrameIndex to\n        // prevent the user for hyperscrolling into un-measured area because otherwise content will\n        // likely jump around as it renders in above the viewport.\n        var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);\n        var endFrame = this._getFrameMetricsApprox(end);\n        var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);\n        cells.push(React.createElement(View, { key: '$tail_spacer', style: (_ref5 = {}, _ref5[spacerKey] = tailSpacerLength, _ref5) }));\n      }\n    } else if (ListEmptyComponent) {\n      var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent :\n      // $FlowFixMe\n      React.createElement(ListEmptyComponent, null);\n      cells.push(React.createElement(\n        View,\n        {\n          key: '$empty',\n          onLayout: this._onLayoutEmpty,\n          style: inversionStyle },\n        _element\n      ));\n    }\n    if (ListFooterComponent) {\n      var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent :\n      // $FlowFixMe\n      React.createElement(ListFooterComponent, null);\n      cells.push(React.createElement(\n        VirtualizedCellWrapper,\n        {\n          cellKey: this._getCellKey() + '-footer',\n          key: '$footer' },\n        React.createElement(\n          View,\n          { onLayout: this._onLayoutFooter, style: inversionStyle },\n          _element2\n        )\n      ));\n    }\n    var scrollProps = Object.assign({}, this.props, {\n      onContentSizeChange: this._onContentSizeChange,\n      onLayout: this._onLayout,\n      onScroll: this._onScroll,\n      onScrollBeginDrag: this._onScrollBeginDrag,\n      onScrollEndDrag: this._onScrollEndDrag,\n      onMomentumScrollEnd: this._onMomentumScrollEnd,\n      scrollEventThrottle: this.props.scrollEventThrottle, // TODO: Android support\n      invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,\n      stickyHeaderIndices: stickyHeaderIndices\n    });\n    if (inversionStyle) {\n      scrollProps.style = [inversionStyle, this.props.style];\n    }\n\n    this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;\n\n    var ret = React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {\n      ref: this._captureScrollRef\n    }, cells);\n    if (this.props.debug) {\n      return React.createElement(\n        View,\n        { style: { flex: 1 } },\n        ret,\n        this._renderDebugOverlay()\n      );\n    } else {\n      return ret;\n    }\n  };\n\n  VirtualizedList.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props6 = this.props,\n        data = _props6.data,\n        extraData = _props6.extraData;\n\n    if (data !== prevProps.data || extraData !== prevProps.extraData) {\n      this._hasDataChangedSinceEndReached = true;\n\n      // clear the viewableIndices cache to also trigger\n      // the onViewableItemsChanged callback with the new data\n      this._viewabilityTuples.forEach(function (tuple) {\n        tuple.viewabilityHelper.resetViewableIndices();\n      });\n    }\n    this._scheduleCellsToRenderUpdate();\n  };\n  // Maps a cell key to the set of keys for all outermost child lists within that cell\n\n\n  VirtualizedList.prototype._computeBlankness = function _computeBlankness() {\n    this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);\n  };\n\n  VirtualizedList.prototype._onCellLayout = function _onCellLayout(e, cellKey, index) {\n    var layout = e.nativeEvent.layout;\n    var next = {\n      offset: this._selectOffset(layout),\n      length: this._selectLength(layout),\n      index: index,\n      inLayout: true\n    };\n    var curr = this._frames[cellKey];\n    if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {\n      this._totalCellLength += next.length - (curr ? curr.length : 0);\n      this._totalCellsMeasured += curr ? 0 : 1;\n      this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;\n      this._frames[cellKey] = next;\n      this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);\n      this._scheduleCellsToRenderUpdate();\n    } else {\n      this._frames[cellKey].inLayout = true;\n    }\n    this._computeBlankness();\n  };\n\n  VirtualizedList.prototype._measureLayoutRelativeToContainingList = function _measureLayoutRelativeToContainingList() {\n    var _this3 = this;\n\n    UIManager.measureLayout(findNodeHandle(this), findNodeHandle(this.context.virtualizedList.getOutermostParentListRef()), function (error) {\n      console.warn(\"VirtualizedList: Encountered an error while measuring a list's\" + ' offset from its containing VirtualizedList.');\n    }, function (x, y, width, height) {\n      _this3._offsetFromParentVirtualizedList = _this3._selectOffset({ x: x, y: y });\n      _this3._scrollMetrics.contentLength = _this3._selectLength({ width: width, height: height });\n\n      var scrollMetrics = _this3._convertParentScrollMetrics(_this3.context.virtualizedList.getScrollMetrics());\n      _this3._scrollMetrics.visibleLength = scrollMetrics.visibleLength;\n      _this3._scrollMetrics.offset = scrollMetrics.offset;\n    });\n  };\n\n  VirtualizedList.prototype._renderDebugOverlay = function _renderDebugOverlay() {\n    var normalize = this._scrollMetrics.visibleLength / this._scrollMetrics.contentLength;\n    var framesInLayout = [];\n    var itemCount = this.props.getItemCount(this.props.data);\n    for (var ii = 0; ii < itemCount; ii++) {\n      var frame = this._getFrameMetricsApprox(ii);\n      if (frame.inLayout) {\n        framesInLayout.push(frame);\n      }\n    }\n    var windowTop = this._getFrameMetricsApprox(this.state.first).offset;\n    var frameLast = this._getFrameMetricsApprox(this.state.last);\n    var windowLen = frameLast.offset + frameLast.length - windowTop;\n    var visTop = this._scrollMetrics.offset;\n    var visLen = this._scrollMetrics.visibleLength;\n    var baseStyle = { position: 'absolute', top: 0, right: 0 };\n    return React.createElement(\n      View,\n      {\n        style: Object.assign({}, baseStyle, {\n          bottom: 0,\n          width: 20,\n          borderColor: 'blue',\n          borderWidth: 1\n        }) },\n      framesInLayout.map(function (f, ii) {\n        return React.createElement(View, {\n          key: 'f' + ii,\n          style: Object.assign({}, baseStyle, {\n            left: 0,\n            top: f.offset * normalize,\n            height: f.length * normalize,\n            backgroundColor: 'orange'\n          })\n        });\n      }),\n      React.createElement(View, {\n        style: Object.assign({}, baseStyle, {\n          left: 0,\n          top: windowTop * normalize,\n          height: windowLen * normalize,\n          borderColor: 'green',\n          borderWidth: 2\n        })\n      }),\n      React.createElement(View, {\n        style: Object.assign({}, baseStyle, {\n          left: 0,\n          top: visTop * normalize,\n          height: visLen * normalize,\n          borderColor: 'red',\n          borderWidth: 2\n        })\n      })\n    );\n  };\n\n  VirtualizedList.prototype._selectLength = function _selectLength(metrics) {\n    return !this.props.horizontal ? metrics.height : metrics.width;\n  };\n\n  VirtualizedList.prototype._selectOffset = function _selectOffset(metrics) {\n    return !this.props.horizontal ? metrics.y : metrics.x;\n  };\n\n  VirtualizedList.prototype._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _props7 = this.props,\n        data = _props7.data,\n        getItemCount = _props7.getItemCount,\n        onEndReached = _props7.onEndReached,\n        onEndReachedThreshold = _props7.onEndReachedThreshold;\n    var _scrollMetrics = this._scrollMetrics,\n        contentLength = _scrollMetrics.contentLength,\n        visibleLength = _scrollMetrics.visibleLength,\n        offset = _scrollMetrics.offset;\n\n    var distanceFromEnd = contentLength - visibleLength - offset;\n    if (onEndReached && this.state.last === getItemCount(data) - 1 &&\n    /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n     * error found when Flow v0.63 was deployed. To see the error delete this\n     * comment and run Flow. */\n    distanceFromEnd < onEndReachedThreshold * visibleLength && (this._hasDataChangedSinceEndReached || this._scrollMetrics.contentLength !== this._sentEndForContentLength)) {\n      // Only call onEndReached once for a given dataset + content length.\n      this._hasDataChangedSinceEndReached = false;\n      this._sentEndForContentLength = this._scrollMetrics.contentLength;\n      onEndReached({ distanceFromEnd: distanceFromEnd });\n    }\n  };\n\n  /* Translates metrics from a scroll event in a parent VirtualizedList into\n   * coordinates relative to the child list.\n   */\n\n\n  VirtualizedList.prototype._scheduleCellsToRenderUpdate = function _scheduleCellsToRenderUpdate() {\n    var _state2 = this.state,\n        first = _state2.first,\n        last = _state2.last;\n    var _scrollMetrics2 = this._scrollMetrics,\n        offset = _scrollMetrics2.offset,\n        visibleLength = _scrollMetrics2.visibleLength,\n        velocity = _scrollMetrics2.velocity;\n\n    var itemCount = this.props.getItemCount(this.props.data);\n    var hiPri = false;\n    if (first > 0 || last < itemCount - 1) {\n      var distTop = offset - this._getFrameMetricsApprox(first).offset;\n      var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);\n      var scrollingThreshold =\n      /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n       * error found when Flow v0.63 was deployed. To see the error delete\n       * this comment and run Flow. */\n      this.props.onEndReachedThreshold * visibleLength / 2;\n      hiPri = Math.min(distTop, distBottom) < 0 || velocity < -2 && distTop < scrollingThreshold || velocity > 2 && distBottom < scrollingThreshold;\n    }\n    // Only trigger high-priority updates if we've actually rendered cells,\n    // and with that size estimate, accurately compute how many cells we should render.\n    // Otherwise, it would just render as many cells as it can (of zero dimension),\n    // each time through attempting to render more (limited by maxToRenderPerBatch),\n    // starving the renderer from actually laying out the objects and computing _averageCellLength.\n    if (hiPri && this._averageCellLength) {\n      // Don't worry about interactions when scrolling quickly; focus on filling content as fast\n      // as possible.\n      this._updateCellsToRenderBatcher.dispose({ abort: true });\n      this._updateCellsToRender();\n      return;\n    } else {\n      this._updateCellsToRenderBatcher.schedule();\n    }\n  };\n\n  VirtualizedList.prototype._updateViewableItems = function _updateViewableItems(data) {\n    var _this4 = this;\n\n    var getItemCount = this.props.getItemCount;\n\n\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.onUpdate(getItemCount(data), _this4._scrollMetrics.offset, _this4._scrollMetrics.visibleLength, _this4._getFrameMetrics, _this4._createViewToken, tuple.onViewableItemsChanged, _this4.state);\n    });\n  };\n\n  return VirtualizedList;\n}(React.PureComponent);\n\nVirtualizedList.defaultProps = {\n  disableVirtualization: process.env.NODE_ENV === 'test',\n  horizontal: false,\n  initialNumToRender: 10,\n  keyExtractor: function keyExtractor(item, index) {\n    if (item.key != null) {\n      return item.key;\n    }\n    _usedIndexForKey = true;\n    return String(index);\n  },\n  maxToRenderPerBatch: 10,\n  onEndReachedThreshold: 2, // multiples of length\n  scrollEventThrottle: 50,\n  updateCellsBatchingPeriod: 50,\n  windowSize: 21 // multiples of length\n};\nVirtualizedList.contextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  }),\n  virtualizedList: PropTypes.shape({\n    getScrollMetrics: PropTypes.func,\n    horizontal: PropTypes.bool,\n    getOutermostParentListRef: PropTypes.func,\n    getNestedChildState: PropTypes.func,\n    registerAsNestedChild: PropTypes.func,\n    unregisterAsNestedChild: PropTypes.func\n  })\n};\nVirtualizedList.childContextTypes = {\n  virtualizedList: PropTypes.shape({\n    getScrollMetrics: PropTypes.func,\n    horizontal: PropTypes.bool,\n    getOutermostParentListRef: PropTypes.func,\n    getNestedChildState: PropTypes.func,\n    registerAsNestedChild: PropTypes.func,\n    unregisterAsNestedChild: PropTypes.func\n  })\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this7 = this;\n\n  this._getScrollMetrics = function () {\n    return _this7._scrollMetrics;\n  };\n\n  this._getOutermostParentListRef = function () {\n    if (_this7._isNestedWithSameOrientation()) {\n      return _this7.context.virtualizedList.getOutermostParentListRef();\n    } else {\n      return _this7;\n    }\n  };\n\n  this._getNestedChildState = function (key) {\n    var existingChildData = _this7._nestedChildLists.get(key);\n    return existingChildData && existingChildData.state;\n  };\n\n  this._registerAsNestedChild = function (childList) {\n    // Register the mapping between this child key and the cellKey for its cell\n    var childListsInCell = _this7._cellKeysToChildListKeys.get(childList.cellKey) || new Set();\n    childListsInCell.add(childList.key);\n    _this7._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);\n\n    var existingChildData = _this7._nestedChildLists.get(childList.key);\n    invariant(!(existingChildData && existingChildData.ref !== null), 'A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');\n    _this7._nestedChildLists.set(childList.key, {\n      ref: childList.ref,\n      state: null\n    });\n\n    if (_this7._hasInteracted) {\n      childList.ref.recordInteraction();\n    }\n  };\n\n  this._unregisterAsNestedChild = function (childList) {\n    _this7._nestedChildLists.set(childList.key, {\n      ref: null,\n      state: childList.state\n    });\n  };\n\n  this._onUpdateSeparators = function (keys, newProps) {\n    keys.forEach(function (key) {\n      var ref = key != null && _this7._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    });\n  };\n\n  this._averageCellLength = 0;\n  this._cellKeysToChildListKeys = new Map();\n  this._cellRefs = {};\n  this._frames = {};\n  this._footerLength = 0;\n  this._hasDataChangedSinceEndReached = true;\n  this._hasInteracted = false;\n  this._hasMore = false;\n  this._hasWarned = {};\n  this._highestMeasuredFrameIndex = 0;\n  this._headerLength = 0;\n  this._indicesToKeys = new Map();\n  this._hasDoneInitialScroll = false;\n  this._nestedChildLists = new Map();\n  this._offsetFromParentVirtualizedList = 0;\n  this._prevParentOffset = 0;\n  this._scrollMetrics = {\n    contentLength: 0,\n    dOffset: 0,\n    dt: 10,\n    offset: 0,\n    timestamp: 0,\n    velocity: 0,\n    visibleLength: 0\n  };\n  this._scrollRef = null;\n  this._sentEndForContentLength = 0;\n  this._totalCellLength = 0;\n  this._totalCellsMeasured = 0;\n  this._viewabilityTuples = [];\n\n  this._captureScrollRef = function (ref) {\n    _this7._scrollRef = ref;\n  };\n\n  this._defaultRenderScrollComponent = function (props) {\n    if (_this7._isNestedWithSameOrientation()) {\n      return React.createElement(View, props);\n    } else if (props.onRefresh) {\n      invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');\n      return React.createElement(ScrollView, _extends({}, props, {\n        refreshControl:\n        /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n         * comment suppresses an error when upgrading Flow's support for\n         * React. To see the error delete this comment and run Flow. */\n        React.createElement(RefreshControl, {\n          refreshing: props.refreshing,\n          onRefresh: props.onRefresh,\n          progressViewOffset: props.progressViewOffset\n        })\n      }));\n    } else {\n      return React.createElement(ScrollView, props);\n    }\n  };\n\n  this._onCellUnmount = function (cellKey) {\n    var curr = _this7._frames[cellKey];\n    if (curr) {\n      _this7._frames[cellKey] = Object.assign({}, curr, { inLayout: false });\n    }\n  };\n\n  this._onLayout = function (e) {\n    if (_this7._isNestedWithSameOrientation()) {\n      // Need to adjust our scroll metrics to be relative to our containing\n      // VirtualizedList before we can make claims about list item viewability\n      _this7._measureLayoutRelativeToContainingList();\n    } else {\n      _this7._scrollMetrics.visibleLength = _this7._selectLength(e.nativeEvent.layout);\n    }\n    _this7.props.onLayout && _this7.props.onLayout(e);\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n\n  this._onLayoutEmpty = function (e) {\n    _this7.props.onLayout && _this7.props.onLayout(e);\n  };\n\n  this._onLayoutFooter = function (e) {\n    _this7._footerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n\n  this._onLayoutHeader = function (e) {\n    _this7._headerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n\n  this._onContentSizeChange = function (width, height) {\n    if (width > 0 && height > 0 && _this7.props.initialScrollIndex != null && _this7.props.initialScrollIndex > 0 && !_this7._hasDoneInitialScroll) {\n      _this7.scrollToIndex({\n        animated: false,\n        index: _this7.props.initialScrollIndex\n      });\n      _this7._hasDoneInitialScroll = true;\n    }\n    if (_this7.props.onContentSizeChange) {\n      _this7.props.onContentSizeChange(width, height);\n    }\n    _this7._scrollMetrics.contentLength = _this7._selectLength({ height: height, width: width });\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n\n  this._convertParentScrollMetrics = function (metrics) {\n    // Offset of the top of the nested list relative to the top of its parent's viewport\n    var offset = metrics.offset - _this7._offsetFromParentVirtualizedList;\n    // Child's visible length is the same as its parent's\n    var visibleLength = metrics.visibleLength;\n    var dOffset = offset - _this7._scrollMetrics.offset;\n    var contentLength = _this7._scrollMetrics.contentLength;\n\n    return {\n      visibleLength: visibleLength,\n      contentLength: contentLength,\n      offset: offset,\n      dOffset: dOffset\n    };\n  };\n\n  this._onScroll = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScroll(e);\n    });\n    if (_this7.props.onScroll) {\n      _this7.props.onScroll(e);\n    }\n    var timestamp = e.timeStamp;\n    var visibleLength = _this7._selectLength(e.nativeEvent.layoutMeasurement);\n    var contentLength = _this7._selectLength(e.nativeEvent.contentSize);\n    var offset = _this7._selectOffset(e.nativeEvent.contentOffset);\n    var dOffset = offset - _this7._scrollMetrics.offset;\n\n    if (_this7._isNestedWithSameOrientation()) {\n      if (_this7._scrollMetrics.contentLength === 0) {\n        // Ignore scroll events until onLayout has been called and we\n        // know our offset from our offset from our parent\n        return;\n      }\n\n      var _convertParentScrollM = _this7._convertParentScrollMetrics({\n        visibleLength: visibleLength,\n        offset: offset\n      });\n\n      visibleLength = _convertParentScrollM.visibleLength;\n      contentLength = _convertParentScrollM.contentLength;\n      offset = _convertParentScrollM.offset;\n      dOffset = _convertParentScrollM.dOffset;\n    }\n\n    var dt = _this7._scrollMetrics.timestamp ? Math.max(1, timestamp - _this7._scrollMetrics.timestamp) : 1;\n    var velocity = dOffset / dt;\n\n    if (dt > 500 && _this7._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this7._hasWarned.perf) {\n      infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', { dt: dt, prevDt: _this7._scrollMetrics.dt, contentLength: contentLength });\n      _this7._hasWarned.perf = true;\n    }\n    _this7._scrollMetrics = {\n      contentLength: contentLength,\n      dt: dt,\n      dOffset: dOffset,\n      offset: offset,\n      timestamp: timestamp,\n      velocity: velocity,\n      visibleLength: visibleLength\n    };\n    _this7._updateViewableItems(_this7.props.data);\n    if (!_this7.props) {\n      return;\n    }\n    _this7._maybeCallOnEndReached();\n    if (velocity !== 0) {\n      _this7._fillRateHelper.activate();\n    }\n    _this7._computeBlankness();\n    _this7._scheduleCellsToRenderUpdate();\n  };\n\n  this._onScrollBeginDrag = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScrollBeginDrag(e);\n    });\n    _this7._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.recordInteraction();\n    });\n    _this7._hasInteracted = true;\n    _this7.props.onScrollBeginDrag && _this7.props.onScrollBeginDrag(e);\n  };\n\n  this._onScrollEndDrag = function (e) {\n    var velocity = e.nativeEvent.velocity;\n\n    if (velocity) {\n      _this7._scrollMetrics.velocity = _this7._selectOffset(velocity);\n    }\n    _this7._computeBlankness();\n    _this7.props.onScrollEndDrag && _this7.props.onScrollEndDrag(e);\n  };\n\n  this._onMomentumScrollEnd = function (e) {\n    _this7._scrollMetrics.velocity = 0;\n    _this7._computeBlankness();\n    _this7.props.onMomentumScrollEnd && _this7.props.onMomentumScrollEnd(e);\n  };\n\n  this._updateCellsToRender = function () {\n    var _props9 = _this7.props,\n        data = _props9.data,\n        getItemCount = _props9.getItemCount,\n        onEndReachedThreshold = _props9.onEndReachedThreshold;\n\n    var isVirtualizationDisabled = _this7._isVirtualizationDisabled();\n    _this7._updateViewableItems(data);\n    if (!data) {\n      return;\n    }\n    _this7.setState(function (state) {\n      var newState = void 0;\n      if (!isVirtualizationDisabled) {\n        // If we run this with bogus data, we'll force-render window {first: 0, last: 0},\n        // and wipe out the initialNumToRender rendered elements.\n        // So let's wait until the scroll view metrics have been set up. And until then,\n        // we will trust the initialNumToRender suggestion\n        if (_this7._scrollMetrics.visibleLength) {\n          // If we have a non-zero initialScrollIndex and run this before we've scrolled,\n          // we'll wipe out the initialNumToRender rendered elements starting at initialScrollIndex.\n          // So let's wait until we've scrolled the view to the right place. And until then,\n          // we will trust the initialScrollIndex suggestion.\n          if (!_this7.props.initialScrollIndex || _this7._scrollMetrics.offset) {\n            newState = computeWindowedRenderLimits(_this7.props, state, _this7._getFrameMetricsApprox, _this7._scrollMetrics);\n          }\n        }\n      } else {\n        var _scrollMetrics3 = _this7._scrollMetrics,\n            contentLength = _scrollMetrics3.contentLength,\n            _offset = _scrollMetrics3.offset,\n            visibleLength = _scrollMetrics3.visibleLength;\n\n        var _distanceFromEnd = contentLength - visibleLength - _offset;\n        var renderAhead =\n        /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses\n         * an error found when Flow v0.63 was deployed. To see the error\n         * delete this comment and run Flow. */\n        _distanceFromEnd < onEndReachedThreshold * visibleLength ? _this7.props.maxToRenderPerBatch : 0;\n        newState = {\n          first: 0,\n          last: Math.min(state.last + renderAhead, getItemCount(data) - 1)\n        };\n      }\n      if (newState && _this7._nestedChildLists.size > 0) {\n        var newFirst = newState.first;\n        var newLast = newState.last;\n        // If some cell in the new state has a child list in it, we should only render\n        // up through that item, so that we give that list a chance to render.\n        // Otherwise there's churn from multiple child lists mounting and un-mounting\n        // their items.\n        for (var ii = newFirst; ii <= newLast; ii++) {\n          var cellKeyForIndex = _this7._indicesToKeys.get(ii);\n          var childListKeys = cellKeyForIndex && _this7._cellKeysToChildListKeys.get(cellKeyForIndex);\n          if (!childListKeys) {\n            continue;\n          }\n          var someChildHasMore = false;\n          // For each cell, need to check whether any child list in it has more elements to render\n          for (var _iterator = childListKeys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref6;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref6 = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref6 = _i.value;\n            }\n\n            var childKey = _ref6;\n\n            var childList = _this7._nestedChildLists.get(childKey);\n            if (childList && childList.ref && childList.ref.hasMore()) {\n              someChildHasMore = true;\n              break;\n            }\n          }\n          if (someChildHasMore) {\n            newState.last = ii;\n            break;\n          }\n        }\n      }\n      return newState;\n    });\n  };\n\n  this._createViewToken = function (index, isViewable) {\n    var _props10 = _this7.props,\n        data = _props10.data,\n        getItem = _props10.getItem,\n        keyExtractor = _props10.keyExtractor;\n\n    var item = getItem(data, index);\n    return { index: index, item: item, key: keyExtractor(item, index), isViewable: isViewable };\n  };\n\n  this._getFrameMetricsApprox = function (index) {\n    var frame = _this7._getFrameMetrics(index);\n    if (frame && frame.index === index) {\n      // check for invalid frames due to row re-ordering\n      return frame;\n    } else {\n      var _getItemLayout = _this7.props.getItemLayout;\n\n      invariant(!_getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');\n      return {\n        length: _this7._averageCellLength,\n        offset: _this7._averageCellLength * index\n      };\n    }\n  };\n\n  this._getFrameMetrics = function (index) {\n    var _props11 = _this7.props,\n        data = _props11.data,\n        getItem = _props11.getItem,\n        getItemCount = _props11.getItemCount,\n        getItemLayout = _props11.getItemLayout,\n        keyExtractor = _props11.keyExtractor;\n\n    invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);\n    var item = getItem(data, index);\n    var frame = item && _this7._frames[keyExtractor(item, index)];\n    if (!frame || frame.index !== index) {\n      if (getItemLayout) {\n        frame = getItemLayout(data, index);\n        if (__DEV__) {\n          var frameType = PropTypes.shape({\n            length: PropTypes.number.isRequired,\n            offset: PropTypes.number.isRequired,\n            index: PropTypes.number.isRequired\n          }).isRequired;\n          PropTypes.checkPropTypes({ frame: frameType }, { frame: frame }, 'frame', 'VirtualizedList.getItemLayout');\n        }\n      }\n    }\n    /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n     * error found when Flow v0.63 was deployed. To see the error delete this\n     * comment and run Flow. */\n    return frame;\n  };\n};\n\nvar CellRenderer = function (_React$Component) {\n  _inherits(CellRenderer, _React$Component);\n\n  function CellRenderer() {\n    var _temp, _this5, _ret2;\n\n    _classCallCheck(this, CellRenderer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret2 = (_temp = (_this5 = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this5), _this5.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this5.props.item\n      }\n    }, _this5._separators = {\n      highlight: function highlight() {\n        var _this5$props = _this5.props,\n            cellKey = _this5$props.cellKey,\n            prevCellKey = _this5$props.prevCellKey;\n\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: true\n        });\n      },\n      unhighlight: function unhighlight() {\n        var _this5$props2 = _this5.props,\n            cellKey = _this5$props2.cellKey,\n            prevCellKey = _this5$props2.prevCellKey;\n\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: false\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this5$props3 = _this5.props,\n            cellKey = _this5$props3.cellKey,\n            prevCellKey = _this5$props3.prevCellKey;\n\n        _this5.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);\n      }\n    }, _temp), _possibleConstructorReturn(_this5, _ret2);\n  }\n\n  CellRenderer.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n\n  // TODO: consider factoring separator stuff out of VirtualizedList into FlatList since it's not\n  // reused by SectionList and we can keep VirtualizedList simpler.\n\n\n  CellRenderer.prototype.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: Object.assign({}, state.separatorProps, newProps)\n      };\n    });\n  };\n\n  CellRenderer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  };\n\n  CellRenderer.prototype.render = function render() {\n    var _props8 = this.props,\n        CellRendererComponent = _props8.CellRendererComponent,\n        ItemSeparatorComponent = _props8.ItemSeparatorComponent,\n        fillRateHelper = _props8.fillRateHelper,\n        horizontal = _props8.horizontal,\n        item = _props8.item,\n        index = _props8.index,\n        inversionStyle = _props8.inversionStyle,\n        parentProps = _props8.parentProps;\n    var renderItem = parentProps.renderItem,\n        getItemLayout = parentProps.getItemLayout;\n\n    invariant(renderItem, 'no renderItem!');\n    var element = renderItem({\n      item: item,\n      index: index,\n      separators: this._separators\n    });\n    var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;\n    // NOTE: that when this is a sticky header, `onLayout` will get automatically extracted and\n    // called explicitly by `ScrollViewStickyHeader`.\n    var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);\n    var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;\n    if (!CellRendererComponent) {\n      return React.createElement(\n        View,\n        { style: cellStyle, onLayout: onLayout },\n        element,\n        itemSeparator\n      );\n    }\n    return React.createElement(\n      CellRendererComponent,\n      _extends({}, this.props, {\n        style: cellStyle,\n        onLayout: onLayout }),\n      element,\n      itemSeparator\n    );\n  };\n\n  return CellRenderer;\n}(React.Component);\n\nCellRenderer.childContextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  })\n};\n\nvar VirtualizedCellWrapper = function (_React$Component2) {\n  _inherits(VirtualizedCellWrapper, _React$Component2);\n\n  function VirtualizedCellWrapper() {\n    _classCallCheck(this, VirtualizedCellWrapper);\n\n    return _possibleConstructorReturn(this, _React$Component2.apply(this, arguments));\n  }\n\n  VirtualizedCellWrapper.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n\n  VirtualizedCellWrapper.prototype.render = function render() {\n    return this.props.children;\n  };\n\n  return VirtualizedCellWrapper;\n}(React.Component);\n\nVirtualizedCellWrapper.childContextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  })\n};\n\n\nvar styles = StyleSheet.create({\n  verticallyInverted: {\n    transform: [{ scaleY: -1 }]\n  },\n  horizontallyInverted: {\n    transform: [{ scaleX: -1 }]\n  },\n  row: {\n    flexDirection: 'row'\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse'\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse'\n  }\n});\n\nexport default VirtualizedList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}